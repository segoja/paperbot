<div class="card border-0 rounded-0">
  <div class="card-header bg-dark p-0 m-0 border-0 border-bottom rounded-top">
    <div class="row g-0">
      <div class="col py-1 ps-3"><span class="h5 text-white">{{@overlay.name}}</span></div>
      <div class="col-auto">
        <button type="button" class="btn btn-dark rounded-0 rounded-top-right border-0" {{on "click" @closeOverlay}}><FaIcon @icon="times" /></button>
      </div>
    </div>
  </div>
  <BsForm @formLayout="horizontal" @model={{@overlay}} @onSubmit={{@saveOverlay}} as |form|>
    <div class="card-body">
      <form.element @controlType="text" @label="Name" placeholder="Type the name of the overlay" class="pb-2" @property="name" required />  

      <div class="form-group row">
        <label class="col-md-4 pb-2">Notifications Overlay</label>
      </div>
      <div class="form-group row pb-2">
        <div class="col-md-4 col-form-label">
          <label class="control-label">Container: </label>
          <span role="button" id="q-container-info">
            <FaIcon @icon="question-circle" class="text-info" role="presentation" />
          </span>
          <BsPopover @triggerEvents="click" @triggerElement="#q-container-info" @delayHide={{this.globalConfig.ttdelay}} class="ppover" as |po|>
            <div role="dialog" class="p-3 alert alert-dismissible m-0" {{on "mouseleave" po.close}}>
              <p class="my-0">Get your Oauth key <a href="https://twitchapps.com/tmi/" target="_blank" rel="noopener noreferrer" {{on "click" po.close}}>Here</a></p>
            </div>
          </BsPopover>
        </div>
        <div class="col-sm">
          <Textarea @value={{@overlay.qContainer}} aria-label="Keywords" placeholder="Type the code of the container" class="form-control"/>
        </div>
      </div>
      
      <div class="form-group row pb-2">
        <div class="col-md-4 col-form-label">
          <label class="control-label">Header: </label>
          <span role="button" id="q-header-info">
            <FaIcon @icon="question-circle" class="text-info" role="presentation" />
          </span>
          <BsPopover @triggerEvents="click" @triggerElement="#q-header-info" @delayHide={{this.globalConfig.ttdelay}} class="ppover" as |po|>
            <div role="dialog" class="p-3 alert alert-dismissible m-0" {{on "mouseleave" po.close}}>
              <p class="my-0">Get your Oauth key <a href="https://twitchapps.com/tmi/" target="_blank" rel="noopener noreferrer" {{on "click" po.close}}>Here</a></p>
            </div>
          </BsPopover>
        </div>
        <div class="col-sm">
          <Textarea @value={{@overlay.qHeader}} aria-label="Keywords" placeholder="Type the code of the header" class="form-control"/>
        </div>
      </div>

      <div class="form-group row pb-2">
        <div class="col-md-4 col-form-label">
          <label class="control-label">Items: </label>
          <span role="button" id="q-items-info">
            <FaIcon @icon="question-circle" class="text-info" role="presentation" />
          </span>
          <BsPopover @triggerEvents="click" @triggerElement="#q-items-info" @delayHide={{this.globalConfig.ttdelay}} class="ppover" as |po|>
            <div role="dialog" class="p-3 alert alert-dismissible m-0" {{on "mouseleave" po.close}}>
              <p class="my-0">Get your Oauth key <a href="https://twitchapps.com/tmi/" target="_blank" rel="noopener noreferrer" {{on "click" po.close}}>Here</a></p>
            </div>
          </BsPopover>
        </div>
        <div class="col-sm">
          <Textarea @value={{@overlay.qItems}} aria-label="Keywords" placeholder="Type the code of the items" class="form-control"/>
        </div>
      </div>      

      <div class="form-group row">
        <div class="col"><hr></div>
      </div>
      <div class="form-group row">
        <label class="col-md-4 pb-2">Queue Overlay</label>
      </div>
      
      <div class="form-group row pb-2">
        <div class="col-md-4 col-form-label">
          <label class="control-label">Container: </label>
          <span role="button" id="n-container-info">
            <FaIcon @icon="question-circle" class="text-info" role="presentation" />
          </span>
          <BsPopover @triggerEvents="click" @triggerElement="#n-container-info" @delayHide={{this.globalConfig.ttdelay}} class="ppover" as |po|>
            <div role="dialog" class="p-3 alert alert-dismissible m-0" {{on "mouseleave" po.close}}>
              <p class="my-0">Get your Oauth key <a href="https://twitchapps.com/tmi/" target="_blank" rel="noopener noreferrer" {{on "click" po.close}}>Here</a></p>
            </div>
          </BsPopover>
        </div>
        <div class="col-sm">
          <Textarea @value={{@overlay.nContainer}} aria-label="Keywords" placeholder="Type the code of the container" class="form-control"/>
        </div>
      </div>
      
      <div class="form-group row pb-2">
        <div class="col-md-4 col-form-label">
          <label class="control-label">Header: </label>
          <span role="button" id="n-header-info">
            <FaIcon @icon="question-circle" class="text-info" role="presentation" />
          </span>
          <BsPopover @triggerEvents="click" @triggerElement="#n-header-info" @delayHide={{this.globalConfig.ttdelay}} class="ppover" as |po|>
            <div role="dialog" class="p-3 alert alert-dismissible m-0" {{on "mouseleave" po.close}}>
              <p class="my-0">Get your Oauth key <a href="https://twitchapps.com/tmi/" target="_blank" rel="noopener noreferrer" {{on "click" po.close}}>Here</a></p>
            </div>
          </BsPopover>
        </div>
        <div class="col-sm">
          <Textarea @value={{@overlay.nHeader}} aria-label="Keywords" placeholder="Type the code of the header" class="form-control"/>
        </div>
      </div>

      <div class="form-group row pb-2">
        <div class="col-md-4 col-form-label">
          <label class="control-label">Items: </label>
          <span role="button" id="n-items-info">
            <FaIcon @icon="question-circle" class="text-info" role="presentation" />
          </span>
          <BsPopover @triggerEvents="click" @triggerElement="#n-items-info" @delayHide={{this.globalConfig.ttdelay}} class="ppover" as |po|>
            <div role="dialog" class="p-3 alert alert-dismissible m-0" {{on "mouseleave" po.close}}>
              <p class="my-0">Get your Oauth key <a href="https://twitchapps.com/tmi/" target="_blank" rel="noopener noreferrer" {{on "click" po.close}}>Here</a></p>
            </div>
          </BsPopover>
        </div>
        <div class="col-sm">
          <Textarea @value={{@overlay.nItems}} aria-label="Keywords" placeholder="Type the code of the items" class="form-control"/>
        </div>
      </div>       
      
    </div>  
    <div class="card-footer py-3 bg-transparent">
      <BsButton @type="success" @onClick={{@saveAndReturnOverlay}}><FaIcon @icon="save" /> Save & Return</BsButton> 
      <BsButton @type="secondary" @onClick={{this.doneEditing}}><FaIcon @icon="save" /></BsButton>
      <div class="text-success ms-2 {{if this.saving "d-inline-block fadeout" "d-none"}}"><FaIcon @icon="spinner" class={{if this.saving "spin"}} /> <span>Overlay saved!</span></div>
      <ButtonConfirm @btnClass="btn btn-danger float-end" @btnIcon="trash" @btnText="Delete" @confirmDescription="Are you sure you want to delete this overlay?" @targetAction={{@deleteOverlay}} />
    </div>
  </BsForm>
</div>