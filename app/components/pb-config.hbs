<div class="card">
  <div class="card-header bg-dark text-white row py-2 m-0 border-0 rounded-top">
    <div class="row col align-self-center"><h5 class="my-0">{{@config.name}}</h5></div>
    {{!-- <BsButtonGroup class="col-auto px-0 rounded" as |bg|>
      <bg.button @type="secondary rounded-0" @onClick={{fn @editConfig}} disabled={{@isViewing}} ><FaIcon @icon="edit" /></bg.button>
      <bg.button @type="danger" @onClick={{fn @closeConfig}}><FaIcon @icon="times" /></bg.button>
    </BsButtonGroup> --}}
  </div>
    <div class="card-body">
      <BsForm @formLayout="horizontal" @model={{@config}}  @onSubmit={{fn this.doneEditing}} as |form|>
        {{!-- <form.element @controlType="text" @label="Name" placeholder="Config name" @property="name" required /> --}}
        <form.element @controlType="text" @label="Default channel" placeholder="Default channel name" @property="defchannel" required />          

        <form.element @controlType="power-select" @property="defbotclient" @label="Default bot client" @options={{@clients}} required as |client|>
          <client.control as |option|>
            {{option.username}}
          </client.control>
        </form.element>
        <form.element @controlType="power-select" @property="defchatclient" @label="Default chat client" @options={{@clients}} required as |client|>
          <client.control as |option|>
            {{option.username}}
          </client.control>
        </form.element>
        <form.element @controlType="text" @property="overlayfolder"  @label="Folder to place queue overlay file" as |el|>
          <div class="input-group">
            <el.control disabled class="alert-secondary" />
            <div class="input-group-append">
              <BsButton @type="secondary" @onClick={{fn this.opendialogfiles @config}}>Select folder</BsButton>        
            </div>
          </div>
        </form.element>
         
        <form.element @controlType="text" @label="CouchDB username" placeholder="Username" @property="couchdbuser" required /> 
        <form.element @controlType="password" @label="CouchDB password" placeholder="Password" @property="couchdbpassword" required /> 
        <form.element @controlType="text" @label="CouchDB url" placeholder="Username" @property="couchdburl" required /> 
        <form.element @controlType="checkbox" @label="Dark mode" @property="darkmode" required /> 
        <form.element @controlType="checkbox" @label="Default config" @property="isdefault" required /> 

        <BsButton @type="success" @onClick={{fn this.doneEditing}}>Save</BsButton>
        <div class="text-success ml-2 {{if this.saving "d-inline-block fadeout" "d-none"}}"><FaIcon @icon="spinner" @class={{if this.saving "spin"}} /> <span>Config saved!</span></div>
      </BsForm>
    </div>
</div>
